# 訂正依頼システム - データベース設計 v1.5.0

## 主要な変更点（v1.5）
1. **生徒ID**: `student_id` を PRIMARY KEY（TEXT型、年度-組番号）
2. **講座ID**: `course_id` を PRIMARY KEY（TEXT型、年度-講座番号）
3. **学籍番号**: `student_number` を7桁の数字に変更
4. **組番号のUNIQUE制約**: 年度と組番号の組み合わせで一意

## テーブル定義

### 1. students（生徒情報テーブル）

```sql
CREATE TABLE students (
    student_id TEXT PRIMARY KEY,           -- 年度-組番号 (例: 2024-F1221)
    year INTEGER NOT NULL,
    class_number TEXT NOT NULL,            -- 組番号（5文字）
    student_number TEXT NOT NULL,          -- 学籍番号（7桁）
    name TEXT NOT NULL,
    name_kana TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(year, class_number)
);
2. courses（講座情報テーブル）
CopyCREATE TABLE courses (
    course_id TEXT PRIMARY KEY,            -- 年度-講座番号 (例: 2024-MATH-01)
    course_name TEXT NOT NULL,
    teacher_name TEXT,
    year INTEGER NOT NULL,
    semester TEXT,
    subject_code TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
3. system_settings（システム設定テーブル）
追加設定項目：

backup_interval: バックアップ間隔（起動回数）
launch_count: 起動回数カウンター
更新履歴
日付	バージョン	更新内容
2025-10-18	1.5	ID構造変更、バックアップ設定追加
2025-10-17	1.1	組番号5文字化、校時追加
2025-10-17	1.0	初版作成
