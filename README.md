# 訂正依頼システム (App_request)

学校における出欠訂正・評価評定変更の依頼を管理するデスクトップアプリケーション

## 概要

**バージョン**: 1.1.0  
**開発言語**: Python 3.11  
**フレームワーク**: PySide6 (Qt for Python)  
**データベース**: SQLite

## 主な機能

### 📝 訂正入力
- 出欠訂正と評価評定変更の依頼を登録
- **NEW!** 組番号5文字対応（例: 1-A-1）
- **NEW!** 出欠訂正時に校時を指定（最大2つ）
- 複数の訂正依頼を一括入力
- 確認ダイアログで内容を確認してから登録
- 入力フォームの複製機能
- **NEW!** 色分けUI（出欠:薄緑、評価:薄オレンジ）

### 🔍 検索・フィルタ
- **NEW!** 生徒検索：氏名・組番号で部分一致検索
- **NEW!** 講座検索：講座名で部分一致検索
- **NEW!** リアルタイムフィルタリング
- ステータスと種別でのフィルタリング

### 🔧 システム部管理
- パスワード保護された管理画面
- ロックされた訂正依頼の解除
- 操作ログの閲覧

### 📊 その他の機能
- 訂正依頼のフィルタリング（ステータス、種別）
- 自動ログ記録（作成・更新・削除・ロック操作）
- PCユーザー名とPC名の自動記録
- **NEW!** 依頼者名の必須化

## システム要件

- **OS**: Windows 10/11, macOS 10.15+
- **Python**: 3.11以上
- **必要なパッケージ**: requirements.txt 参照

## インストール

### 開発環境

```bash
# リポジトリをクローン
git clone https://github.com/seyaytua/request.git
cd request

# 仮想環境を作成
python3.11 -m venv venv

# 仮想環境を有効化
# macOS/Linux:
source venv/bin/activate
# Windows:
venv\Scripts\activate

# 依存パッケージをインストール
pip install -r requirements.txt
実行
Copypython main.py
実行ファイル化（Windows用）
Copypyinstaller --onefile --windowed --name="訂正依頼システム" main.py
実行ファイルは dist/ ディレクトリに生成されます。

プロジェクト構造
App_request/
├── main.py                 # エントリーポイント
├── requirements.txt        # 依存パッケージ
├── data/                   # データベース・ログ（.gitignore）
├── docs/                   # 設計書
│   ├── 00_全体構成図.md
│   ├── 01_主要機能一覧.md
│   ├── 02_データベース設計.md
│   ├── modules/
│   ├── ui/
│   └── api/
└── src/
    ├── config.py           # 設定ファイル
    ├── database/           # データベース関連
    ├── controllers/        # ビジネスロジック
    ├── ui/                 # UIコンポーネント
    ├── utils/              # ユーティリティ
    └── resources/          # リソース（アイコン等）
データベース
SQLiteを使用。初回起動時に自動的に作成されます。

テーブル構成
students - 生徒情報（組番号5文字対応）
courses - 講座情報
correction_requests - 訂正依頼（校時フィールド追加）
operation_logs - 操作ログ
system_settings - システム設定
初期設定
管理者パスワード
デフォルトパスワード: admin123

⚠️ セキュリティのため、初回起動後に必ず変更してください。

使い方
訂正依頼の登録
「訂正入力」タブを開く
右側の入力フォームに情報を入力
依頼種別（出欠訂正 / 評価評定変更）
生徒選択（検索可能）
講座選択（検索可能）
NEW! 出欠訂正の場合：校時を選択（最大2つ）
訂正内容と理由
「確認して登録」ボタンをクリック
確認ダイアログで内容を確認
「登録」をクリックして完了
複数の訂正依頼を登録
「入力フォームを複製」ボタンで追加
各フォームに情報を入力
「確認して登録」で順次確認・登録
システム部管理
「システム部管理」タブをクリック
パスワードを入力（初期: admin123）
ロック解除やログ閲覧が可能
ライセンス
このプロジェクトは教育目的で作成されています。

開発者
開発: seyaytua

更新履歴
v1.1.0 (2024-10-17)
✨ 組番号を5文字に拡張（例: 1-A-1）
✨ 出欠訂正に校時フィールド追加（最大2つ）
✨ 依頼者名を必須項目に変更
✨ 学期を文字列型に変更
🎨 訂正入力画面に色分け追加（出欠:薄緑、評価:薄オレンジ）
🔍 生徒・講座の検索機能強化（部分一致、リアルタイムフィルタリング）
🗃️ データベーススキーマの最適化
📝 設計書の更新
v1.0.0 (2024-10-17)
🎉 初回リリース
訂正入力機能
システム部管理機能
操作ログ記録機能
